features:
  - name: api
    scopes:
      - match: module
        prefix: "{{snake .Module.Name}}/"
        documents:
          - source: "api/api.go.tpl"
            target: "/api/api.go"
  - name: scaffold
    scopes:
      - match: system
        documents:
          - source: "go.mod.tpl"
            target: "go.mod"
      - match: interface
        prefix: "{{snake .Module.Name}}/"
        documents:
          - source: "scaffold/interface.go.tpl"
            target: "{{snake .Interface.Name}}.go"
          - source: "scaffold/interface_test.go.tpl"
            target: "{{snake .Interface.Name}}_test.go"
  - name: http
    scopes:
      - match: module
        prefix: "{{snake .Module.Name}}/"
        documents:
          - source: "http/client.go.tpl"
            target: "http/client.go"
          - source: "http/dao.go.tpl"
            target: "http/dao.go"
  # scaffold:
  #   system:
  #     documents:
  #       - source: "go.mod"
  #         target: "go.mod"
  #   interface:
  #     documents:
  #       - source: "scaffold/interface.go.liquid"
  #         target: "{{module.name|path}}/lib/{{interface.name|lower}}.go"
  #       - source: "scaffold/test.go.liquid"
  #         target: "{{module.name|path}}/lib/{{interface.name|lower}}_test.go"
  # http:
  #   interface:
  #     documents:
  #       - source: "http/httpclient.go.liquid"
  #         target: "{{module.name|path}}/http/http{{interface.name|lower}}.go"
